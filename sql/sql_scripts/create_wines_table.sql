USE drunkenprost;

CREATE TABLE IF NOT EXISTS `wines` (
	id CHAR(36) NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000',
	created DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00',
	winery CHAR(36) NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000',
	wine_type CHAR(36) NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000',
	country CHAR(36) NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000',
	vintage SMALLINT(4) DEFAULT NULL,
	region VARCHAR(50) DEFAULT NULL,
	abv DECIMAL(3,1) DEFAULT NULL,
	link_name VARCHAR(100) DEFAULT NULL,
	display_name VARCHAR(100) DEFAULT NULL,
	PRIMARY KEY (id),
	FOREIGN KEY (winery) REFERENCES `wineries` (id),
	FOREIGN KEY (wine_type) REFERENCES `wine_types` (id),
	FOREIGN KEY (country) REFERENCES `countries` (id),
	FOREIGN KEY (region) REFERENCES `regions` (id),
	INDEX link_name (link_name)
);

